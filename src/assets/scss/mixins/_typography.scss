// Caption
@mixin text-caption($uppercase: false) {
  font-size: $font-size-caption / 1.2;
  font-weight: $font-weight-regular;
  line-height: 1.5;
  color: $color-text-muted;

  @if $uppercase {
    text-transform: uppercase;
    letter-spacing: 0.2em;
  }

  @include breakpoint-above-phone-medium {
    font-size: $font-size-caption / 1.1;
  }

  @include breakpoint-above-tablet {
    font-size: $font-size-caption;
  }
}

// Navigation
@mixin text-navigation() {
  @include text-subtitle();

  font-weight: $font-weight-extrabold;
  letter-spacing: -0.02em;

  // font-size: $font-size-caption;
  // font-weight: $font-weight-semibold;

  @include breakpoint-above-tablet {
    font-size: $font-size-subtitle / 1.618;
  }

  @include breakpoint-above-desktop-small {
    font-size: $font-size-subtitle / 1.5;
  }

  // @include breakpoint-above-desktop-medium {
  //   font-size: $font-size-caption / 0.9;
  // }

  // @include breakpoint-above-desktop-large {
  //   font-size: $font-size-caption / 0.96;
  // }
}

// Body
@mixin text-body() {
  font-weight: $font-weight-regular;
  line-height: 1.6;
  font-size: $font-size-body / 1.2;
  color: $color-text;

  @include breakpoint-above-phone-medium {
    font-size: $font-size-body / 1.1;
  }

  @include breakpoint-above-tablet {
    font-size: $font-size-body;
  }
}

// Subtitle
@mixin text-subtitle() {
  font-size: $font-size-body / 1.2;
  font-weight: $font-weight-semibold;
  line-height: 1.2;
  margin: 0;
  color: $color-text;

  @include breakpoint-above-phone-medium {
    font-size: $font-size-body / 1.1;
  }

  @include breakpoint-above-tablet {
    font-size: $font-size-subtitle;
  }
}

// Title
@mixin text-title() {
  font-size: $font-size-title / 1.8;
  font-weight: $font-weight-extrabold;
  line-height: 1.1;
  margin: 0;
  color: $color-text;

  @include breakpoint-above-phone-medium {
    font-size: $font-size-title / 1.4;
  }

  @include breakpoint-above-tablet {
    font-size: $font-size-title;
  }
}

// Jumbo
@mixin text-jumbo() {
  font-size: $font-size-jumbo / 2.8;
  font-weight: $font-weight-extrabold;
  line-height: 1.2;
  margin: 0;
  color: $color-text;

  @include breakpoint-above-phone-medium {
    font-size: $font-size-jumbo / 2.1;
  }

  @include breakpoint-above-phone-large {
    font-size: $font-size-jumbo / 1.8;
  }

  @include breakpoint-above-tablet {
    font-size: $font-size-jumbo / 1.2;
  }

  @include breakpoint-above-desktop-small {
    font-size: $font-size-jumbo;
  }
}

// Link
@mixin text-link() {
  white-space: nowrap;
  color: $color-black;
  text-decoration: none;
  padding-left: 0.2em;
  padding-right: 0.2em;
  position: relative;
  transition: color $timings-fast $timings-ease-out-quart;
  z-index: 1;

  // Red accent
  &::after {
    content: '';
    display: block;
    position: absolute;
    bottom: rem(-2px);
    left: 0;
    height: rem(1px);
    width: 100%;
    background-color: $color-detail;
    transition:
      height $timings-fast $timings-ease-out-quart,
      background-color $timings-fast $timings-ease-out-quart;
    z-index: -1;
    pointer-events: none; // Fixes hover flickering
  }

  &:hover,
  &:focus {
    color: $color-background;

    // Red accent
    &::after {
      height: calc(100% + #{rem(4px)});
      background-color: $color-action;
      transform: skew(-8deg, -2deg);
    }
  }
}


// Markdown
@mixin text-markdown() {
  @include text-body();

  p {
    margin: 0;

    + p {
      margin-top: unit(2);
    }
  }

  strong,
  em {
    font-weight: $font-weight-semibold;
    font-style: normal;
  }

  .lead {
    @include text-subtitle();

    font-weight: $font-weight-regular;
    margin-top: unit(3);
    margin-bottom: unit(3);
  }

  h1,
  h2 {
    @include text-subtitle();

    font-weight: $font-weight-extrabold;
  }

  h3 {
    @include text-subtitle();
  }

  h4,
  h5 {
    @include text-body();

    font-weight: $font-weight-extrabold;
  }

  h1,
  h2,
  h3,
  h4,
  h5 {
    margin-top: unit(6);
    margin-bottom: unit(2);
  }

  a {
    @include text-link();
  }

  code,
  pre[class*='language-'] {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    background-color: $color-black;
    color: $color-theme-dark-text;
  }

  // Inline code
  :not(pre) > code {
    padding: .1em 0.3em;
    white-space: normal;
  }

  img {
    max-width: 100%;
  }

  .caption {
    @include text-caption();

    text-align: center;
    color: $color-text-muted;
  }

  ul > li {
    list-style: square;
  }

  ol > li,
  ul > li {
    &::marker {
      color: $color-action;
      font-weight: $font-weight-extrabold;
    }
  }

  hr {
    margin-top: unit(6);
    margin-bottom: unit(6);
    border: 0;
    border-top: rem(2px) solid $color-detail-faint;
  }

  blockquote {
    @include text-subtitle();

    font-weight: $font-weight-regular;
    margin: 0;
    margin-top: unit(3);
    margin-bottom: unit(3);
    padding-left: unit(3);
    border-left: rem(4px) solid $color-detail;
    color: $color-text-muted;
  }
}
